<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Vue练习</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../common/css/style.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons" rel="stylesheet"
    type="text/css">
  <link href="../common/quasar/quasar.min.css" rel="stylesheet" type="text/css">
</head>

<body>
  <script src="../common/js/vue.js"></script>
  <script src="../common/quasar/quasar.umd.min.js"></script>
  <!-- menu菜单按钮 -->
  <!-- <btn-menu></btn-menu> -->
  <template id="BtnMenu">
    <div>
      <q-btn-group push>
        <q-btn onclick="location.href='/index.html'" flat class="text-white bg-info" label="HOME"></q-btn>
        <q-btn color="secondary" label="Menu">
          <q-menu auto-close>
            <q-list style="min-width: 100px">
              <q-item clickable v-for="(m,index) in menus" :key="index">
                <q-item-section>
                  <a :href="st+m.url">
                    <div>
                      <span class="text-secondary">{{ m.title }}</span>
                      <span>{{ m.message }}</span>
                    </div>
                  </a>
                </q-item-section>
              </q-item>
            </q-list>
          </q-menu>
        </q-btn>
      </q-btn-group>
    </div>
  </template>
  <script type="text/javascript" src="./menu.js"></script>
  <div id="app">
    <template>
      <div class="q-pa-md">
        <q-toolbar class="bg-secondary text-white shadow-2">
          <q-toolbar-title>第51-57课</q-toolbar-title>
          </q-toolbar-title>
          <btn-menu></btn-menu>
        </q-toolbar>
        <div class="q-gutter-y-md" style="width: 100%;">
          <q-card>
            <q-card-section class="text-secondary">
              <div class="text-h6 text-secondary">{{ title }}</div>
              <h6>什么是组件化</h6>
              <ul>
                <li>将一个页面拆分成一个个小的功能块，每个功能块完成属于自己这部分独立的功能，这样整个页面的管理和维护就变得非常容易</li>
              </ul>
              <h6>vue组件化思想</h6>
              <ul>
                <li>开发出一个个独立可复用的小组件来构造我们的应用，任何应用都会被抽成一个个组件树</li>
                <li>尽可能将页面拆分成可复用的小组件，让我们的代码更加方便组织和管理，并且扩展进也更强</li>
              </ul>
              <h6>注册组件的基本步骤</h6>
              <ul>
                <li>创建组件构造器</li>
                <li>注册组件</li>
                <li>使用组件</li>
              </ul>
              <h6>全局组件和局部组件</h6>
              <h6>父组件和子组件</h6>
              <h6>组件注册语法糖写法</h6>
              <h6>组件模板抽离写法</h6>
              <h6>为什么组件data必须是函数</h6>
              <ul>
                <li>组件数据存放问题</li>
                <li>组件内部不能直接访问vue实例中的数据</li>
                <li>组件复用时data对象不能共用，如果不是函数的话，复用的组件直接会相互造成影响，用函数来返回就是为了做到数据独立</li>
              </ul>
            </q-card-section>
            <q-tabs v-model="tab" dense class="text-grey" active-color="secondary" indicator-color="secondary"
              align="justify" narrow-indicator>
              <q-tab name="show" label="SHOW"></q-tab>
              <q-tab name="code" label="CODE"></q-tab>
            </q-tabs>

            <q-separator></q-separator>

            <q-tab-panels v-model="tab" animated>
              <q-tab-panel name="show">
                <div class="text-h6">

                  <!--1.3.使用组件 -->
                  <!-- 注意:必须在vue的实例化范围内 -->
                  <my-cpn></my-cpn>
                  <cpn></cpn>
                  <!-- 父组件中包含子组件 -->
                  <cpn2></cpn2>
                  <!-- 4.3.使用组件 -->
                  <cpn5></cpn5>
                  <!-- 组件data函数 -->
                  <cpn6></cpn6>
                </div>
              </q-tab-panel>

              <q-tab-panel name="code">
                <pre v-pre class="text-weight-medium bg-green-2">
&lt;div id=&quot;app&quot;&gt;
  &lt;!--1.3.使用组件 --&gt;
    &lt;!-- 注意:必须在vue的实例化范围内 --&gt;
    &lt;my-cpn&gt;&lt;/my-cpn&gt;
    &lt;cpn&gt;&lt;/cpn&gt;
    &lt;!-- 父组件中包含子组件 --&gt;
    &lt;cpn2&gt;&lt;/cpn2&gt;
    &lt;!-- 4.3.使用组件 --&gt;
    &lt;cpn5&gt;&lt;/cpn5&gt;
    &lt;!-- 组件data函数 --&gt;
    &lt;cpn6&gt;&lt;/cpn6&gt;
  &lt;/div&gt;
  &lt;!--    4.1.第一种模板 --&gt;
  &lt;script type=&quot;text/x-template&quot; id=&quot;cpn5&quot;&gt;
    &lt;div&gt;
      &lt;h5&gt;模板分离写法&lt;/h5&gt;
    &lt;/div&gt;
  &lt;/script&gt;
  &lt;!-- 4.1.第二种模板 --&gt;
  &lt;template id=&quot;cpn5&quot;&gt;
    &lt;div&gt;
      &lt;h5&gt;模板分离写法&lt;/h5&gt;
    &lt;/div&gt;
  &lt;/template&gt;
  &lt;template id=&quot;cpn6&quot;&gt;
    &lt;div&gt;
      &lt;h5&gt;组件data函数&lt;/h5&gt;
      &lt;p&gt;{{title}}&lt;/p&gt;
    &lt;/div&gt;
  &lt;/template&gt;
  
  &lt;script src=&quot;../common/js/vue.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
    // 一、组件化基本使用
    //    1.1.创建组件构造器对象
    const cpnC = Vue.extend({
      template: &#x60;
      &lt;div&gt;
        &lt;h5&gt;组件标题&lt;/h5&gt;
        &lt;p&gt;组件中的一段内容&lt;/p&gt;
      &lt;/div&gt;
      &#x60;
    })
    //    1.2.注册组件(全局组件，可以在多个Vue的实例下面使用)
    Vue.component(&#x27;my-cpn&#x27;,cpnC)
    // 二、父组件和子组件
    //    2.1.创建第一个组件构造器（子组件）
    const cpnC1 = Vue.extend({
      template:&#x60;
      &lt;div&gt;
        &lt;h5&gt;夏目友人帐&lt;/h5&gt;
        &lt;p&gt;夏目贵志，猫咪老师&lt;/p&gt;
      &lt;/div&gt;
      &#x60;
    })
    //    2.2.创建第二个组件构造器(父组件)
    const cpnC2 = Vue.extend({
      template:&#x60;
      &lt;div&gt;
        &lt;h5&gt;父组件中包含子组件&lt;/h5&gt;
        &lt;h6&gt;夏目友人帐·缘结空蝉&lt;/h6&gt;
        &lt;cpn1&gt;&lt;/cpn1&gt;
      &lt;/div&gt;
      &#x60;,
      //    子组件注册
      components:{
        cpn1: cpnC1
      }
    })
    // 三、组件语法糖
    //    3.1.全局组件注册语法糖
    Vue.component(&#x27;cpn3&#x27;,{
      template: &#x60;
        &lt;div&gt;
          &lt;h5&gt;组件语法糖&lt;/h5&gt;
        &lt;/div&gt;
      &#x60;
    })
    // 四、组件模板抽离的写法
    //    4.2.注册全局组件
    Vue.component(&#x27;cpn5&#x27;,{
      template: &#x27;#cpn5&#x27;
    })
    // 五、组件data必须是函数
    Vue.component(&#x27;cpn6&#x27;,{
      template: &#x27;#cpn6&#x27;,
      data(){
        return {
          title:&#x27;abc&#x27;
        }
      }
    })
    const app = new Vue({
      el: &#x27;#app&#x27;, //挂载
      data: {
        tab: &#x27;show&#x27;,
        title: &#x27;第51-57课&#x27;,
        messages: [
          &#x27;组件化的实现和使用步骤&#x27;,
          &#x27;全局组件和局部组件&#x27;,
          &#x27;父子件和子组件的区分&#x27;,
          &#x27;注册组件的语法糖写法&#x27;,
          &#x27;组件的模板抽离写法&#x27;,
          &#x27;为什么组件data必须是函数&#x27;
        ],
      },
      //    1.2.组件注册(局部组件,只能在该Vue实例下使用)
      components: {
        //    cpn使用组件时的标签名
        cpn: cpnC,
        //    父组件注册
        cpn2: cpnC2,
        //    3.2.局部组件注册语法糖
        cpn4: {
          template:&#x60;
            &lt;div&gt;
              &lt;h5&gt;局部组件注册语法糖&lt;/h5&gt;
            &lt;/div&gt;
          &#x60;
        }
      }
    })
  &lt;/script&gt;
                </pre>
              </q-tab-panel>
            </q-tab-panels>
          </q-card>
        </div>
      </div>
    </template>
  </div>
  <!--    4.1.第一种模板 -->
  <script type="text/x-template" id="cpn5">
    <div>
      <h5>模板分离写法</h5>
    </div>
  </script>
  <!-- 4.1.第二种模板 -->
  <template id="cpn5">
    <div>
      <h5>模板分离写法</h5>
    </div>
  </template>
  <template id="cpn6">
    <div>
      <h5>组件data函数</h5>
      <p>{{title}}</p>
    </div>
  </template>

  <script type="text/javascript">
    // 一、组件化基本使用
    //    1.1.创建组件构造器对象
    const cpnC = Vue.extend({
      template: `
      <div>
        <h5>组件标题</h5>
        <p>组件中的一段内容</p>
      </div>
      `
    })
    //    1.2.注册组件(全局组件，可以在多个Vue的实例下面使用)
    Vue.component('my-cpn', cpnC)
    // 二、父组件和子组件
    //    2.1.创建第一个组件构造器（子组件）
    const cpnC1 = Vue.extend({
      template: `
      <div>
        <h5>夏目友人帐</h5>
        <p>夏目贵志，猫咪老师</p>
      </div>
      `
    })
    //    2.2.创建第二个组件构造器(父组件)
    const cpnC2 = Vue.extend({
      template: `
      <div>
        <h5>父组件中包含子组件</h5>
        <h6>夏目友人帐·缘结空蝉</h6>
        <cpn1></cpn1>
      </div>
      `,
      //    子组件注册
      components: {
        cpn1: cpnC1
      }
    })
    // 三、组件语法糖
    //    3.1.全局组件注册语法糖
    Vue.component('cpn3', {
      template: `
        <div>
          <h5>组件语法糖</h5>
        </div>
      `
    })
    // 四、组件模板抽离的写法
    //    4.2.注册全局组件
    Vue.component('cpn5', {
      template: '#cpn5'
    })
    // 五、组件data必须是函数
    Vue.component('cpn6', {
      template: '#cpn6',
      data() {
        return {
          title: 'abc'
        }
      }
    })
    const app = new Vue({
      el: '#app', //挂载
      data: {
        tab: 'show',
        title: '第51-57课',
        messages: [
          '组件化的实现和使用步骤',
          '全局组件和局部组件',
          '父子件和子组件的区分',
          '注册组件的语法糖写法',
          '组件的模板抽离写法',
          '为什么组件data必须是函数'
        ],
      },
      //    1.2.组件注册(局部组件,只能在该Vue实例下使用)
      components: {
        //    cpn使用组件时的标签名
        cpn: cpnC,
        //    父组件注册
        cpn2: cpnC2,
        //    3.2.局部组件注册语法糖
        cpn4: {
          template: `
            <div>
              <h5>局部组件注册语法糖</h5>
            </div>
          `
        }
      }
    })
  </script>
</body>

</html>